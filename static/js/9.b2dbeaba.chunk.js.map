{"version":3,"sources":["Data/LocalStorageComponent.ts","Data/LocalStorage.ts","version.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","Views/TabViewBase.tsx","../node_modules/react-bootstrap/Container.js","../node_modules/react-bootstrap/Row.js","../node_modules/react-bootstrap/Col.js","Braille/BrailleCell.tsx","Braille/BrailleCharacter.tsx","Braille/BrailleStream.tsx","Braille/BraillePicture.tsx","Braille/BrailleTable.tsx","Views/Encoding/Braille.tsx"],"names":["LocalStorageComponent","this","restoreState","updateState","onUpdateState","saveState","LocalStorage","setObject","getLocalStorageKey","onSaveState","onRestoreState","getObject","Component","undefined","_isSupported","storage","window","localStorage","x","setItem","removeItem","e","DOMException","code","name","length","clearOnVersionMismatch","key","isSupported","getItem","getKey","objString","JSON","parse","value","object","stringify","clear","STORAGE_KEY_PREFIX","prev","current","compareVersions","prevVersion","VERSION_STORAGE_KEY","didVersionChange","version","target","property","receiver","Reflect","get","base","Object","prototype","hasOwnProperty","call","getPrototypeOf","desc","getOwnPropertyDescriptor","TabViewBase","props","_activeKey","state","activeKey","savedState","setState","_interopRequireDefault","exports","__esModule","default","_extends2","_objectWithoutPropertiesLoose2","_classnames","_react","_ThemeProvider","Container","forwardRef","_ref","ref","bsPrefix","fluid","_ref$as","as","className","prefix","useBootstrapPrefix","createElement","displayName","defaultProps","_default","module","Row","noGutters","_props$as","otherProps","decoratedBsPrefix","DEVICE_SIZES","Col","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","apply","concat","BrailleCell","classNames","character","mask","onClick","handler","viewBox","cx","cy","r","BrailleCharacter","renderCell","Dot","UpperLeft","UpperRight","MiddleLeft","MiddleRight","LowerLeft","LowerRight","BrailleStream","_stream","Stream","_character","Character","onKeyDown","bind","onKeyPress","stream","document","addEventListener","removeEventListener","Header","Body","xs","sm","md","i","onCharacterClick","toString","onBackspaceClick","onNextClick","onClearClick","variant","encoding","chars","ev","defaultPrevented","handled","keyCode","preventDefault","charCode","Math","pow","toggle","backspace","valid","append","space","BraillePicture","brailleDot","dot","y","transform","xlinkHref","width","id","fill","strokeWidth","stroke","BrailleTable","characters","getPotentialMatches","striped","responsive","map","entry","display","category","Braille","onSelect","onTabSelect","eventKey","title"],"mappings":"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","file":"static/js/9.b2dbeaba.chunk.js","sourcesContent":["import { Component } from 'react';\nimport LocalStorage from './LocalStorage';\n\nabstract class LocalStorageComponent<P = {}, S = {}, SavedState = {}> extends Component<P, S> {\n  public componentDidMount() {\n    this.restoreState();\n    this.updateState();\n  }\n\n  protected updateState() {\n    this.onUpdateState();\n    this.saveState();\n  }\n\n  protected abstract getLocalStorageKey(): string;\n  protected abstract onSaveState(): SavedState;\n  protected abstract onRestoreState(savedState: SavedState | null): void;\n  protected abstract onUpdateState(): void;\n\n  private saveState() {\n    LocalStorage.setObject<SavedState>(this.getLocalStorageKey(), this.onSaveState());\n  }\n\n  private restoreState() {\n    this.onRestoreState(LocalStorage.getObject<SavedState>(this.getLocalStorageKey()));\n  }\n}\n\nexport default LocalStorageComponent;\n","import compareVersions from 'compare-versions';\nimport { version } from '../version';\n\nclass LocalStorage {\n  private static readonly VERSION_STORAGE_KEY = 'appVersion';\n  private static readonly STORAGE_KEY_PREFIX = 'puzztool';\n  private static _isSupported?: boolean;\n\n  public static isSupported() {\n    if (this._isSupported === undefined) {\n      const storage = window.localStorage;\n      const x = '__storage_test__';\n\n      try {\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        this._isSupported = true;\n      } catch (e) {\n        this._isSupported = e instanceof DOMException && (\n          // everything except Firefox\n          e.code === 22 ||\n          // Firefox\n          e.code === 1014 ||\n          // test name field too, because code might not be present\n          // everything except Firefox\n          e.name === 'QuotaExceededError' ||\n          // Firefox\n          e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n          // acknowledge QuotaExceededError only if there's something already stored\n          storage.length !== 0;\n      }\n\n      if (this._isSupported) {\n        this.clearOnVersionMismatch();\n      }\n    }\n\n    return this._isSupported;\n  }\n\n  public static getItem(key: string) {\n    if (this.isSupported()) {\n      return window.localStorage.getItem(this.getKey(key));\n    }\n\n    return null;\n  }\n\n  public static getObject<T>(key: string) {\n    if (this.isSupported()) {\n      const objString = window.localStorage.getItem(this.getKey(key));\n\n      if (objString !== null) {\n        return JSON.parse(objString) as T;\n      }\n    }\n\n    return null;\n  }\n\n  public static setItem(key: string, value: string) {\n    if (this.isSupported()) {\n      window.localStorage.setItem(this.getKey(key), value);\n    }\n  }\n\n  public static setObject<T>(key: string, object: T) {\n    if (this.isSupported()) {\n      window.localStorage.setItem(this.getKey(key), JSON.stringify(object));\n    }\n  }\n\n  public static clear() {\n    if (this.isSupported()) {\n      window.localStorage.clear();\n    }\n  }\n\n  private static getKey(key: string) {\n    return `${this.STORAGE_KEY_PREFIX}_${key}`;\n  }\n\n  private static didVersionChange(prev: string | null, current: string) {\n    try {\n      if (prev) {\n        return compareVersions(current, prev) !== 0;\n      }\n    } catch {\n      // Something went wrong with parsing.\n    }\n\n    // If there's no existing version number or we had an exception while\n    // comparing it, just return `true` to play it safe.\n    return true;\n  }\n\n  private static clearOnVersionMismatch() {\n    const prevVersion = this.getItem(this.VERSION_STORAGE_KEY);\n    if (this.didVersionChange(prevVersion, version)) {\n      // If the current localstorage was created with another version of\n      // PuzzTool, clear the local storage to get rid of any obsolete or\n      // incompatible artifacts.\n      this.clear();\n\n      // Store the current version\n      this.setItem(this.VERSION_STORAGE_KEY, version);\n    }\n  }\n}\n\nexport default LocalStorage;\n","// generated by genversion\nexport const version = '0.7.0';\n","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import LocalStorageComponent from '../Data/LocalStorageComponent';\n\n// To inherit from this class:\n// 1. import Tab from 'react-bootstrap/Tab';\n// 2. import Tabs from 'react-bootstrap/Tabs';\n// 3. override render() and getLocalStorageKey()\n// 4. Ensure your constructor calls super()\n\ninterface Props {}\n\ninterface State {\n  activeKey: number;\n}\n\ninterface SavedState {\n  activeKey: number;\n}\n\nabstract class TabViewBase extends LocalStorageComponent<Props, State, SavedState> {\n  private _activeKey: number = 1;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      activeKey: this._activeKey,\n    };\n  }\n\n  /* Classes derived from TabViewBase should implement the following functions:\n\n  public render() {}\n\n  protected getLocalStorageKey() {\n    return 'YourClassNameHere';\n  }\n  */\n\n  protected onSaveState() {\n    return {\n      activeKey: this._activeKey,\n    };\n  }\n\n  protected onRestoreState(savedState: SavedState | null) {\n    if (savedState !== null) {\n      this._activeKey = savedState.activeKey;\n    }\n  }\n\n  protected onUpdateState() {\n    this.setState({\n      activeKey: this._activeKey,\n    });\n  }\n\n  protected onTabSelect(activeKey: number) {\n    this._activeKey = activeKey;\n    this.updateState();\n  }\n}\n\nexport default TabViewBase;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  fluid: false\n};\n\nvar Container = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'container');\n  return _react.default.createElement(Component, (0, _extends2.default)({\n    ref: ref\n  }, props, {\n    className: (0, _classnames.default)(className, fluid ? prefix + \"-fluid\" : prefix)\n  }));\n});\n\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nvar _default = Container;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  noGutters: false\n};\n\nvar Row = _react.default.forwardRef(function (props, ref) {\n  var bsPrefix = props.bsPrefix,\n      noGutters = props.noGutters,\n      _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      className = props.className,\n      otherProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"bsPrefix\", \"noGutters\", \"as\", \"className\"]);\n  var decoratedBsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'row');\n  return _react.default.createElement(Component, (0, _extends2.default)({\n    ref: ref\n  }, otherProps, {\n    className: (0, _classnames.default)(className, decoratedBsPrefix, noGutters && 'no-gutters')\n  }));\n});\n\nRow.defaultProps = defaultProps;\nvar _default = Row;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\n\nvar Col = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span, offset, order;\n\n    if (propValue != null && typeof propValue === 'object') {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span != null) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n    ref: ref,\n    className: _classnames.default.apply(void 0, [className].concat(spans, classes))\n  }));\n});\n\nCol.displayName = 'Col';\nvar _default = Col;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","import React from 'react';\nimport { BrailleCharacter as Character, BrailleDot as Dot } from 'puzzle-lib';\nimport './BrailleCell.scss';\n\ninterface Props {\n  character: Character;\n  mask: Dot;\n  onClick?: (mask: Dot) => void;\n}\n\nfunction BrailleCell(props: Props) {\n  function onClick() {\n    const handler = props.onClick;\n    if (handler) {\n      handler(props.mask);\n    }\n  }\n\n  const classNames = `BrailleCell ${props.character.get(props.mask) ? 'BrailleCell-selected' : ''}`;\n  return (\n    <button className={classNames} onClick={onClick}>\n      <svg viewBox=\"0 0 60 60\">\n        <circle cx=\"30\" cy=\"30\" r=\"12\" />\n        Sorry, your browser does not support inline SVG.\n        </svg>\n    </button>\n  );\n}\n\nexport default BrailleCell;\n","import React from 'react';\nimport BrailleCell from './BrailleCell';\nimport { BrailleCharacter as Character, BrailleDot as Dot } from 'puzzle-lib';\nimport './BrailleCharacter.scss';\n\ninterface Props {\n  character: Character;\n  onClick?: (mask: Dot) => void;\n}\n\nfunction BrailleCharacter(props: Props) {\n  function onClick(mask: Dot) {\n    const handler = props.onClick;\n    if (handler) {\n      handler(mask);\n    }\n  }\n\n  function renderCell(mask: Dot) {\n    return (\n      <BrailleCell\n        character={props.character}\n        mask={mask}\n        onClick={onClick}\n      />\n    );\n  }\n\n  return (\n    <div className=\"BrailleCharacter\">\n      {renderCell(Dot.UpperLeft)}\n      {renderCell(Dot.UpperRight)}\n      {renderCell(Dot.MiddleLeft)}\n      {renderCell(Dot.MiddleRight)}\n      {renderCell(Dot.LowerLeft)}\n      {renderCell(Dot.LowerRight)}\n    </div>\n  );\n}\n\nexport default BrailleCharacter;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport BrailleCharacter from './BrailleCharacter';\nimport LocalStorageComponent from '../Data/LocalStorageComponent';\nimport {\n  BrailleCharacter as Character,\n  BrailleDot as Dot,\n  BrailleEncoding as Encoding,\n  BrailleStream as Stream\n} from 'puzzle-lib';\nimport './BrailleStream.scss';\n\ninterface Props {}\n\ninterface State {\n  character: Character;\n  stream: Stream;\n}\n\ninterface SavedState {\n  character: number;\n  stream: Encoding[];\n}\n\nclass BrailleStream extends LocalStorageComponent<Props, State, SavedState> {\n  private readonly _stream: Stream = new Stream();\n  private readonly _character: Character = new Character();\n\n  constructor(props: Props) {\n    super(props);\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n\n    this.state = {\n      character: this._character,\n      stream: this._stream,\n    };\n  }\n\n  public componentDidMount() {\n    super.componentDidMount();\n    document.addEventListener('keydown', this.onKeyDown);\n    document.addEventListener('keypress', this.onKeyPress);\n  }\n\n  public componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n    document.removeEventListener('keypress', this.onKeyPress);\n  }\n\n  public render() {\n    return (\n      <div className=\"BrailleStream\">\n        <Card className=\"BrailleStream-input\">\n          <Card.Header>Input</Card.Header>\n          <Card.Body>\n            <Container fluid={true}>\n              <Row>\n                <Col\n                  xs=\"auto\"\n                  sm=\"auto\"\n                  md=\"auto\"\n                >\n                  <BrailleCharacter\n                    character={this.state.character}\n                    onClick={i => this.onCharacterClick(i)}\n                  />\n                </Col>\n                <Col className=\"BrailleStream-view\">\n                  {this.state.character.toString() || '?'}\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <ButtonToolbar>\n                    <ButtonGroup>\n                      <Button onClick={() => this.onBackspaceClick()}>&#x232b;</Button>\n                    </ButtonGroup>\n                    <ButtonGroup>\n                      <Button onClick={() => this.onNextClick()}>Next</Button>\n                    </ButtonGroup>\n                    <ButtonGroup>\n                      <Button\n                        onClick={() => this.onClearClick()}\n                        variant=\"danger\"\n                      >\n                        Clear\n                      </Button>\n                    </ButtonGroup>\n                  </ButtonToolbar>\n                </Col>\n              </Row>\n            </Container>\n          </Card.Body>\n        </Card>\n        <Card>\n          <Card.Header>Output</Card.Header>\n          <Card.Body>\n            <pre className=\"BrailleStream-output\">\n              {this.state.stream.toString()}<span className=\"blinking-cursor\">|</span>\n            </pre>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n\n  protected getLocalStorageKey() {\n    return 'BrailleStream';\n  }\n\n  protected onSaveState() {\n    return {\n      character: this._character.encoding,\n      stream: this._stream.chars,\n    };\n  }\n\n  protected onRestoreState(savedState: SavedState | null) {\n    if (savedState !== null) {\n      this._character.encoding = savedState.character;\n      this._stream.chars = savedState.stream;\n    }\n  }\n\n  protected onUpdateState() {\n    this.setState({\n      character: this._character,\n      stream: this._stream,\n    });\n  }\n\n  private onKeyDown(ev: KeyboardEvent) {\n    if (ev.defaultPrevented) {\n      return;\n    }\n\n    let handled = false;\n\n    // Chrome won't trigger keypress for any keys that can invoke browser\n    // actions.\n    if (ev.keyCode === 8) { // Backspace\n      this.onBackspaceClick();\n      handled = true;\n    }\n\n    if (handled) {\n      ev.preventDefault();\n    }\n  }\n\n  private onKeyPress(ev: KeyboardEvent) {\n    if (ev.defaultPrevented) {\n      return;\n    }\n\n    let handled = false;\n\n    if (ev.keyCode === 13) { // Enter\n      this.onNextClick();\n      handled = true;\n    } else if (ev.charCode >= 49 && ev.charCode <= 54) { // '1' through '6'\n      // The braille dots are bitfields, so calculate the value based on the key\n      // pressed.\n      // TODO: This should probably be in puzzle-lib.\n      this.onCharacterClick(Math.pow(2, ev.charCode - 49));\n    }\n\n    if (handled) {\n      ev.preventDefault();\n    }\n  }\n\n  private onCharacterClick(mask: Dot) {\n    this._character.toggle(mask);\n\n    this.updateState();\n  }\n\n  private onBackspaceClick() {\n    this._stream.backspace();\n\n    this.updateState();\n  }\n\n  private onNextClick() {\n    if (this._character.valid()) {\n      this._stream.append(this._character);\n      this._character.clear();\n    } else {\n      this._stream.space();\n    }\n\n    this.updateState();\n  }\n\n  private onClearClick() {\n    this._character.clear();\n    this._stream.clear();\n\n    this.updateState();\n  }\n}\n\nexport default BrailleStream;\n","import React from 'react';\nimport { BrailleCharacter as Character, BrailleDot as Dot } from 'puzzle-lib';\n\ninterface Props {\n  width: number;\n  character: Character;\n}\n\nfunction BraillePicture(props: Props) {\n  function brailleDot(dot: Dot, x: number, y: number) {\n    return (\n      <use\n        transform={`translate(${x}, ${y})`}\n        xlinkHref={props.character.get(dot) ? '#FullDot' : '#EmptyDot'}\n      />\n    );\n  }\n\n  // 12x12 Circles with padding width 6 between them.  Padding width 2 on the edges.\n  return (\n    <svg width={props.width} viewBox=\"0 0 34 52\">\n      <defs>\n        <g id=\"FullDot\">\n          <circle r=\"6\" fill=\"black\" cx=\"0\" cy=\"0\" />\n        </g>\n        <g id=\"EmptyDot\">\n          <circle r=\"6\" fill=\"transparent\" strokeWidth=\"1\" stroke=\"black\" cx=\"0\" cy=\"0\" />\n        </g>\n      </defs>\n      {brailleDot(Dot.UpperLeft, 8, 8)}\n      {brailleDot(Dot.UpperRight, 26, 8)}\n      {brailleDot(Dot.MiddleLeft, 8, 26)}\n      {brailleDot(Dot.MiddleRight, 26, 26)}\n      {brailleDot(Dot.LowerLeft, 8, 44)}\n      {brailleDot(Dot.LowerRight, 26, 44)}\n      Sorry, your browser does not support inline SVG.\n        </svg>\n  );\n}\n\nexport default BraillePicture;\n","import React from 'react';\nimport { BrailleCharacter as Character } from 'puzzle-lib';\nimport Table from 'react-bootstrap/Table';\nimport BraillePicture from './BraillePicture';\nimport './BrailleTable.scss';\n\nfunction BrailleTable() {\n  const characters = new Character().getPotentialMatches();\n  return (\n    <div className=\"BrailleTable\">\n      <Table striped={true} responsive={true}>\n        <thead>\n          <tr>\n            <th>Character</th>\n            <th>Braille</th>\n          </tr>\n        </thead>\n        <tbody>\n          {characters.map((entry) => (\n            <tr key={`${entry.encoding}-${entry.display}`}>\n              <td>{entry.display}</td>\n              <td>\n                <BraillePicture\n                  width={40}\n                  character={new Character(entry.encoding, entry.category)}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default BrailleTable;\n","import React from 'react';\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport TabViewBase from '../TabViewBase';\nimport BrailleStream from '../../Braille/BrailleStream';\nimport BrailleTable from '../../Braille/BrailleTable';\n\nclass Braille extends TabViewBase {\n  public render() {\n    return (\n      <div className=\"Braille\">\n        <div className=\"Braille-content\">\n          <Tabs\n            activeKey={this.state.activeKey}\n            id=\"Braille-tabs\"\n            // tslint:disable-next-line: no-any\n            onSelect={(activeKey: any) => this.onTabSelect(activeKey as number)}\n          >\n            <Tab eventKey={1} title=\"Value\">\n              <BrailleStream />\n            </Tab>\n            <Tab eventKey={2} title=\"Reference\">\n              <BrailleTable />\n            </Tab>\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n\n  protected getLocalStorageKey() {\n    return 'Braille';\n  }\n}\n\nexport default Braille;\n"],"sourceRoot":""}